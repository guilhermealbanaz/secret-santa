import{u as R,a as B,r,j as e}from"./index-CQCWOKf6.js";import{C as v,a as g,B as j,b as S,c as F}from"./button-BUwMC9nU.js";import{D}from"./DrawFactory-9IjlckUi.js";import{A as L}from"./arrow-left-BWFNYK7Z.js";import{c as b}from"./createLucideIcon-C5PmYIpQ.js";import"./FirebaseService-1GMPh65x.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=b("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=b("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function T(){var m,x,u;const y=R(),{id:c,email:l}=B(),[t,N]=r.useState(null),[n,w]=r.useState(null),[A,a]=r.useState(!0),[d,i]=r.useState(null),[E,k]=r.useState(!1);return r.useEffect(()=>{(async()=>{if(!c||!l){i("Invalid URL"),a(!1);return}try{const s=await D.createRepository().findById(c);if(!s){i("Draw not found"),a(!1);return}if(w(s),!s.result||!s.result[l]){i("Result not found"),a(!1);return}const f=s.participants.find(o=>o.email===l),C=s.result[l],p=s.participants.find(o=>o.email===C);if(!f||!p){i("Participant not found"),a(!1);return}N({giver:f,receiver:p}),a(!1)}catch(h){console.error("Error loading result:",h),i("Error loading result"),a(!1)}})()},[c,l]),A?e.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#0A0F1E] via-[#121A3A] to-[#0A0F1E] flex items-center justify-center",children:e.jsx("p",{className:"text-white",children:"Carregando..."})}):d?e.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#0A0F1E] via-[#121A3A] to-[#0A0F1E] flex items-center justify-center",children:e.jsx(v,{className:"bg-[#151B30]/50 border border-[#252B45] shadow-xl backdrop-blur-sm max-w-md w-full mx-4",children:e.jsx(g,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-500",children:d})})})}):e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#0A0F1E] via-[#121A3A] to-[#0A0F1E] p-8",children:[e.jsxs(j,{variant:"ghost",onClick:()=>y("/"),className:"absolute top-8 left-8 text-gray-400 hover:text-white hover:bg-[#252B45] transition-all duration-300 flex items-center gap-2 px-4 py-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Voltar"]}),e.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 pt-16",children:[e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-white",children:"Seu Amigo Secreto"}),e.jsx("p",{className:"text-xl text-gray-400/80",children:n==null?void 0:n.name})]}),e.jsxs(v,{className:"bg-[#151B30]/50 border border-[#252B45] shadow-xl backdrop-blur-sm",children:[e.jsx(S,{children:e.jsx(F,{className:"text-2xl font-bold text-white text-center",children:((m=t==null?void 0:t.giver)==null?void 0:m.name)&&`Olá, ${t.giver.name}!`})}),e.jsx(g,{className:"p-8",children:e.jsx("div",{className:"space-y-8",children:E?e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-24 h-24 mx-auto bg-green-600/10 rounded-full flex items-center justify-center",children:e.jsx(G,{className:"h-12 w-12 text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 mb-2",children:"Seu amigo secreto é"}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-1",children:(x=t==null?void 0:t.receiver)==null?void 0:x.name}),e.jsx("p",{className:"text-gray-400 text-sm",children:(u=t==null?void 0:t.receiver)==null?void 0:u.email})]}),e.jsx("div",{className:"pt-4 border-t border-[#252B45]",children:e.jsx("p",{className:"text-gray-400 text-sm",children:"Guarde essa informação com carinho e prepare uma surpresa especial! 🎁"})})]}):e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-24 h-24 mx-auto bg-blue-600/10 rounded-full flex items-center justify-center",children:e.jsx(M,{className:"h-12 w-12 text-blue-400"})}),e.jsx("p",{className:"text-gray-400",children:"Clique no botão abaixo para revelar seu amigo secreto"}),e.jsx(j,{onClick:()=>k(!0),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white font-medium transition-all duration-300",children:"Revelar Amigo Secreto"})]})})})]})]})]})}export{T as default};
