import{a as y,u as N,r as t,j as e}from"./index-bc5YJyiR.js";import{C as p,a as b,B as c,b as k,c as A}from"./button-Df2kCEST.js";import{D as C}from"./DrawFactory-DQ2FDnV5.js";import{A as E}from"./arrow-left-BJE-v31c.js";import{c as B}from"./createLucideIcon-BsPzBc5u.js";import{C as L,L as F}from"./link-Bt5jF-Rq.js";import"./firebase-gizGegjz.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),$={baseUrl:window.location.origin};function V(){var h;const{id:s}=y(),a=N(),[o,g]=t.useState(null),[f,d]=t.useState(!0),[n,m]=t.useState(null),[x,j]=t.useState(null);t.useEffect(()=>{let r;return(async()=>{if(s)try{r=await C.createRepository().observe(s,u=>{if(!u.performed){a(`/draw/${s}/participants`);return}g(u),d(!1)})}catch(l){console.error("Error loading draw:",l),j("Error loading draw results"),d(!1)}})(),()=>{r&&r()}},[s,a]);const w=async r=>{const i=`${$.baseUrl}/draw/${s}/result/${r}`;try{await navigator.clipboard.writeText(i),m(r),setTimeout(()=>m(null),2e3)}catch(l){console.error("Error copying link:",l)}},v=()=>{a("/",{replace:!0})};return x?e.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#0A0F1E] via-[#121A3A] to-[#0A0F1E] flex items-center justify-center",children:e.jsx(p,{className:"bg-[#151B30]/50 border border-[#252B45] shadow-xl backdrop-blur-sm max-w-md w-full mx-4",children:e.jsxs(b,{className:"p-8 text-center",children:[e.jsx("p",{className:"text-red-500 text-xl mb-4",children:x}),e.jsx(c,{onClick:()=>a(`/draw/${s}/participants`),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Voltar para Participantes"})]})})}):f?e.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#0A0F1E] via-[#121A3A] to-[#0A0F1E] flex items-center justify-center",children:e.jsx("p",{className:"text-white",children:"Carregando..."})}):e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#0A0F1E] via-[#121A3A] to-[#0A0F1E] p-8",children:[e.jsxs(c,{variant:"ghost",onClick:v,className:"absolute top-8 left-8 text-gray-400 hover:text-white hover:bg-[#252B45] transition-all duration-300 flex items-center gap-2 px-4 py-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Voltar"]}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pt-16",children:[e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-white",children:"Draw Results"}),e.jsx("p",{className:"text-xl text-gray-400/80",children:"Compartilhe os links com cada participante para revelar seus amigos secretos"})]}),e.jsxs(p,{className:"bg-[#151B30]/50 border border-[#252B45] shadow-xl backdrop-blur-sm",children:[e.jsx(k,{children:e.jsx(A,{className:"text-2xl font-bold text-white",children:"Links dos Participantes"})}),e.jsx(b,{children:e.jsx("div",{className:"space-y-4",children:(h=o==null?void 0:o.participants)==null?void 0:h.map((r,i)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1A2038] rounded-lg border border-[#252B45] hover:border-[#353B55] transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600/10 flex items-center justify-center",children:e.jsx(D,{className:"h-5 w-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:r.name}),e.jsx("p",{className:"text-gray-400 text-sm",children:r.email})]})]}),e.jsxs(c,{variant:"outline",className:`
                      min-w-[120px] h-9
                      flex items-center justify-center gap-2
                      font-medium transition-all duration-300
                      ${n===r.email?"bg-green-500/10 text-green-500 border-green-500/30 hover:bg-green-500/20":"bg-[#1A2038] text-gray-300 border-[#252B45] hover:bg-gray-700 hover:text-white"}
                    `,onClick:()=>w(r.email),children:[n===r.email?e.jsx(L,{className:"h-4 w-4"}):e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{children:n===r.email?"Link copiado":"Copiar link"})]})]},i))})})]})]})]})}export{V as default};
